name: Build and push CKAN 2.9 images (python)

on: push

jobs:
  call-reusable-workflow:
    uses: ./.github/workflows/reusable-docker-publish.yml
    with:
      ckan-major-version: "2.9"
      ckan-version: "ckan-2.9.11"
      docker-file: "Dockerfile.py3.9"
      base-tags: "ckan/ckan-base:2.9-py3.9,ckan/ckan-base:2.9.11-py3.9"
      dev-tags: "ckan/ckan-dev:2.9-py3.9,ckan/ckan-dev:2.9.11-py3.9"
    secrets:
      DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
      DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_TOKEN }}
